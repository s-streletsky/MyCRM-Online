@{
    ViewData["Title"] = "Clients";
}

<div class="text-center">
    <h2 class="display-4">Клиенты</h2>
    <div class="button-panel">
        <a class="btn btn-primary" asp-action="Create">Добавить</a>
    </div>
    
    
    <table class="table table-striped">
        <thead class="thead-light">
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Добавлен</th>
                <th scope="col">Имя</th>
                <th scope="col">Ник</th>
                <th scope="col">Телефон</th>
                <th scope="col">Email</th>
                <th scope="col">Страна</th>
                <th scope="col">Город</th>
                <th scope="col">Доставка</th>
                <th scope="col">Отделение</th>
                <th scope="col">Действия</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var client in ViewBag.Clients)
            {
                <tr>
                    <td>@client.Id</td>
                    <td>@client.Date</td>
                    <td>@client.Name</td>
                    <td>@client.Nickname</td>
                    <td>@client.Phone</td>
                    <td>@client.Email</td>

                    <td>@if (client.Country != null)
                    {
                        @client.Country.Name
                    }</td>

                    <td>@client.City</td>

                    <td>@if (client.ShippingMethod != null)
                    {
                        @client.ShippingMethod.Name
                    }</td>

                    <td>@client.PostalCode</td>
                    <td>
                        <div>
                            @*<a asp-controller="Employee" asp-action="Edit" asp-route-id="@item.Id" class=" btn btn-sm btn-primary"><i class="bi bi-pencil-square"></i>Edit</a>*@

                            @using (Html.BeginForm(FormMethod.Post))
                            {
                                <input type="hidden" name="id" value="@client.Id" />

                                <a class="btn btn-secondary btn-sm" asp-route-id="@client.Id" asp-action="Edit">Изменить</a>
                                <input class="btn btn-danger btn-sm" type="submit" value="Удалить" asp-action="Delete" />
                            }
                        </div>                        
                    </td>
                </tr>
            }
        </tbody>       
    </table>
</div>